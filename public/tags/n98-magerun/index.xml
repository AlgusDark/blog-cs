<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>N98 Magerun on CyrillSchumacher.com</title>
        <link>http://cyrillschumacher.com/tags/n98-magerun/</link>
        <language>en-US</language>
        <author>Cyrill at Schumacher dot fm</author>
        <rights>Copyright (c) 2014, Cyrill Schumacher; all rights reserved.</rights>
        <updated>Thu, 27 Mar 2014 00:00:00 UTC</updated>
        
        <item>
            <title>n98-magerun - HarrisStreet - Configuration Importer Exporter</title>
            <link>http://cyrillschumacher.com/projects/2014-03-27-n98-magerun-harrisstr-impex/</link>
            <pubDate>Thu, 27 Mar 2014 00:00:00 UTC</pubDate>
            <author>Cyrill at Schumacher dot fm</author>
            <guid>http://cyrillschumacher.com/projects/2014-03-27-n98-magerun-harrisstr-impex/</guid>
            <description>

&lt;p&gt;Magento n98-magerun module for importing and exporting configuration data. Import supports hierarchical
folder structure and of course different environments.&lt;/p&gt;

&lt;p&gt;&lt;h3&gt;Latest commit and statistics from GitHub:&lt;/h3&gt;
&lt;div class=&#34;hubinfo&#34; data-u=&#34;Zookal&#34; data-r=&#34;HarrisStreet-ImpEx&#34; data-c=&#34;5&#34;&gt;&lt;/div&gt;
&lt;/p&gt;

&lt;p&gt;Import and Export of Magentos configuration stored in core_config_data table. Handling of different environments
with inheritance.&lt;/p&gt;

&lt;p&gt;There is an &lt;a href=&#34;http://magerun.net/harrisstreet-impex-for-magento/&#34;&gt;awesome blogpost&lt;/a&gt; from &lt;a href=&#34;https://twitter.com/cmuench&#34;&gt;@cmuench&lt;/a&gt; about this module!&lt;/p&gt;

&lt;p&gt;Supports multiple formats like:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;CSV&lt;/li&gt;
&lt;li&gt;Json&lt;/li&gt;
&lt;li&gt;LimeSodaXml &lt;a href=&#34;https://github.com/LimeSoda/LimeSoda_EnvironmentConfiguration&#34;&gt;LimeSoda EnvironmentConfiguration&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Xml&lt;/li&gt;
&lt;li&gt;Yaml&lt;/li&gt;
&lt;li&gt;ASCII &lt;a href=&#34;https://ronaldduncan.wordpress.com/2009/10/31/text-file-formats-ascii-delimited-text-not-csv-or-tab-delimited-text/&#34;&gt;Text File formats – ASCII Delimited Text – Not CSV or TAB delimited text&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;At the moment the Yaml import format is the most supported. CSV and JSON works also well.&lt;/p&gt;

&lt;h2 id=&#34;export:2f61e4d97716b617e85d75533be219dd&#34;&gt;Export&lt;/h2&gt;

&lt;pre&gt;&lt;code&gt;$ ./n98-magerun.phar hs:ccd:export --help
Usage:
 hs:ccd:export [-m|--format[=&amp;quot;...&amp;quot;]] [-a|--hierarchical[=&amp;quot;...&amp;quot;]] [-f|--filename[=&amp;quot;...&amp;quot;]] [-i|--include[=&amp;quot;...&amp;quot;]] [-x|--exclude[=&amp;quot;...&amp;quot;]] [-s|--filePerNameSpace[=&amp;quot;...&amp;quot;]] [-c|--exclude-default[=&amp;quot;...&amp;quot;]]

Options:
 --format (-m)           Format: yaml, json, csv, xml, limeSodaXml (default: &amp;quot;yaml&amp;quot;)
 --hierarchical (-a)     Create a hierarchical or a flat structure (not all export format supports that). Enable with: y (default: &amp;quot;n&amp;quot;)
 --filename (-f)         File name into which should the export be written. Defaults into var directory.
 --include (-i)          Path prefix, multiple values can be comma separated; exports only those paths
 --exclude (-x)          Path prefix, multiple values can be comma separated; exports everything except ...
 --filePerNameSpace (-s) Export each namespace into its own file. Enable with: y (default: &amp;quot;n&amp;quot;)
 --exclude-default (-c)  Excludes default values (@todo)
 --help (-h)             Display this help message.
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;examples:2f61e4d97716b617e85d75533be219dd&#34;&gt;Examples&lt;/h4&gt;

&lt;p&gt;Export hierarchical xml for the &lt;code&gt;general&lt;/code&gt; and &lt;code&gt;tax&lt;/code&gt; namespace:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./n98-magerun.phar hs:ccd:export --format=xml --include=general,tax --hierarchical=y
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Export all configuration settings each namespace into its own file starting with the prefix &lt;code&gt;test&lt;/code&gt;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./n98-magerun.phar hs:ccd:export --filePerNameSpace=y --filename=test
Wrote: 12 settings to file test_admin.yaml
Wrote: 118 settings to file test_advanced.yaml
Wrote: 18 settings to file test_bestsellerproductslider.yaml
Wrote: 6 settings to file test_bss.yaml
Wrote: 294 settings to file test_carriers.yaml
Wrote: 61 settings to file test_catalog.yaml
Wrote: 12 settings to file test_cataloginventory.yaml
Wrote: 16 settings to file test_checkout.yaml
...
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;import:2f61e4d97716b617e85d75533be219dd&#34;&gt;Import&lt;/h2&gt;

&lt;p&gt;To import a configuration you need a specific setup of folders in the filesystem.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./n98-magerun.phar hs:ccd:import --help
Usage:
 hs:ccd:import [-m|--format[=&amp;quot;...&amp;quot;]] [-a|--hierarchical[=&amp;quot;...&amp;quot;]] [--base[=&amp;quot;...&amp;quot;]] folder environment

Arguments:
 folder                Import folder name
 env                   Environment name. SubEnvs separated by slash e.g.: development/osx/developer01

Options:
 --format (-m)         Format: yaml, json, csv, xml, limeSodaXml (default: &amp;quot;yaml&amp;quot;)
 --hierarchical (-a)   Create a hierarchical or a flat structure (not all export format supports that). Enable with: y (default: &amp;quot;n&amp;quot;)
 --base                Base folder name (default: &amp;quot;base&amp;quot;)
 --help (-h)           Display this help message.
 --quiet (-q)          Do not output any message.
 --verbose (-v|vv|vvv) Increase the verbosity of messages: 1 for normal output, 2 for more verbose output and 3 for debug
 --version (-V)        Display this application version.
 --ansi                Force ANSI output.
 --no-ansi             Disable ANSI output.
 --no-interaction (-n) Do not ask any interactive question.
 --root-dir            Force magento root dir. No auto detection
 --skip-config         Do not load any custom config.
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;folder-setup:2f61e4d97716b617e85d75533be219dd&#34;&gt;Folder setup&lt;/h4&gt;

&lt;p&gt;&lt;img src=&#34;https://raw.githubusercontent.com/Zookal/HarrisStreet-ImpEx/master/doc/folderStructure.png&#34; alt=&#34;Folder Structure&#34; title=&#34;Folder Structure&#34; /&gt;
&lt;/p&gt;

&lt;p&gt;An example import for the development environment of &lt;em&gt;cyrill&lt;/em&gt; would like:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./n98-magerun.phar hs:ccd:import ./configuration/newCoreConfigData development/cyrill
&lt;/code&gt;&lt;/pre&gt;

&lt;h4 id=&#34;how-does-the-import-work:2f61e4d97716b617e85d75533be219dd&#34;&gt;How does the import work?&lt;/h4&gt;

&lt;p&gt;Focusing in the printscreen above on the folder: &lt;code&gt;configuration/newCoreConfigData&lt;/code&gt; and our example import command.&lt;/p&gt;

&lt;p&gt;The importer expects always a base folder (also configurable via CLI option) where all default configuration options are store in n-files. It reads all those files and loads their settings into Magento.&lt;/p&gt;

&lt;p&gt;In the next step the importer loads all files from the &lt;code&gt;development&lt;/code&gt; folder but non-resursive and loads that content into Magento. After that it jumps into the folder &lt;code&gt;cyrill&lt;/code&gt; and loads there the files. Finished!&lt;/p&gt;

&lt;p&gt;The output looks like:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;Processed: ./configuration/newCoreConfigData/base/contacts.yaml with 4 values.
Processed: ./configuration/newCoreConfigData/base/crontab.yaml with 6 values.
Processed: ./configuration/newCoreConfigData/base/currency.yaml with 11 values.
Processed: ./configuration/newCoreConfigData/base/customer.yaml with 33 values.
Processed: ./configuration/newCoreConfigData/base/design.yaml with 40 values.
Processed: ./configuration/newCoreConfigData/base/dev.yaml with 14 values.
Processed: ./configuration/newCoreConfigData/base/general.yaml with 15 values.
Processed: ./configuration/newCoreConfigData/development/test_web.yaml with 36 values.
Processed: ./configuration/newCoreConfigData/development/cyrill/test_web.yaml with 4 values.
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;You are totally free of naming the folders and files.&lt;/p&gt;

&lt;p&gt;The file format during import will be detected with its extension. &lt;code&gt;.yaml&lt;/code&gt; works were as &lt;code&gt;.yml&lt;/code&gt; won&amp;rsquo;t.&lt;/p&gt;

&lt;h2 id=&#34;convert:2f61e4d97716b617e85d75533be219dd&#34;&gt;Convert&lt;/h2&gt;

&lt;p&gt;Is really useful to create a .magerun file from your configuration to process later that file on a server.&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ ./n98-magerun.phar help hs:ccd:convert
Usage:
 hs:ccd:convert [-m|--format[=&amp;quot;...&amp;quot;]] [-a|--hierarchical[=&amp;quot;...&amp;quot;]] [--base[=&amp;quot;...&amp;quot;]] [--export-file[=&amp;quot;...&amp;quot;]] folder env

Arguments:
 folder                Import folder name
 env                   Environment name. SubEnvs separated by slash e.g.: development/osx/developer01

Options:
 --base                Base folder name (default: &amp;quot;base&amp;quot;)
 --export-file         File name in which the n98 commands shoud be written. If empty -&amp;gt; stdout
&lt;/code&gt;&lt;/pre&gt;

&lt;h2 id=&#34;installation:2f61e4d97716b617e85d75533be219dd&#34;&gt;Installation&lt;/h2&gt;

&lt;p&gt;Require this installer in your &lt;code&gt;composer.json&lt;/code&gt; file:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;quot;require&amp;quot;: {
    …
    &amp;quot;zookal/harris-street-impex&amp;quot;: &amp;quot;dev-master&amp;quot;,
    …
}
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Or via modman:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;$ modman clone git@github.com:Zookal/HarrisStreet-ImpEx.git
&lt;/code&gt;&lt;/pre&gt;
</description>
        </item>
        
    </channel>
</rss>
